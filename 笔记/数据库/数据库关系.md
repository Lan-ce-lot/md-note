# 关系数据库笔记版



## 键分类

* 超键（super key）：在关系中能唯一标识元组的属性集称为关系模式的超键。
* 候选键（candidate key）：不含有多余属性的超键称为候选键。（候选键可以有多个）
* 主键（primary key）：用户选作元组标识的一个候选键称为主键。（主键是候选键中一个）

## 关系模式

* 关系模型基本上遵循数据库的三级体系结构。概念模式是关系模式的集合，外模式是关系子模式的集合，内模式是存储模式的集合。
  * 关系模式：关系模式实际上是记录类型。它的定义包括：模式名，属性名，值域名以及模式的主
  * 关系子模式：是用户所用到的那部分数据的描述。除了指出用户的数据外，还应指出模式与子模式之间的对应性。
  * 存储模式：关系存储时的基本组织方式是文件，元组是文件中的记录。存储一个关系可以用散列方法或索引方法实现。如果关系中元组数目较少，也可以用堆文件方式实现。

## 关系模型的三类完整性规则

* 实体完整性规则：这条规则要求关系中元组在组成主键的属性上不能有空值。
* 参照完整性规则：这条规则要求“不引用不存在的实体”。
* 用户定义的完整性规则：它反映某一具体应用涉及的数据必须满足的语义要求。

## 参照完整性规则的形式定义

* 如果属性集K是关系模式R1的主键，K也是关系模式R2的外键，那么在R2的关系中，K的取值只允许两种可能，或者为空，或者等于R1关系中某个主键值。此规则使用时还要注意三点：
  * 外键和相应的主键可以不同名，只要定义在相同值域上即可。
  * R1和R2也可以是同一个关系模式，表示了属性之间的联系
  * 外键值是否允许空，应视具体问题而定
  * 上述形式定义中，关系模式R1称为“参照关系”模式，R2称为“依赖关系”模式

## 关系查询语言根据其理论基础的不同分为哪两类

* 关系代数语言：查询操作是以集合操作为基础运算的DML语言（非过程性弱）

* 关系演算语言：查询操作是以谓词演算为基础运算的DML语言（非过程性强）

## 关系代数中的操作

* 传统的集合操作：并、差、交、笛卡尔积
* 扩充的集合操作：对关系进行垂直分割（投影）、水平分割（选择），关系的结合（联接、自然联接），笛卡尔积的逆运算（除法）

## 关系演算

* 元组关系演算

* 域关系演算

  

